import{x as d,y as _,m as f,u as k,k as A,l as S,_ as y,o as e,c as u,b as o,F as i,g as p,d as r,t as a,p as B,e as F}from"./index-E0T99ipI.js";const D={components:{BaseButton:d,BaseSkeleton:_},props:{account:String},data(){return{applications:[],loading:!1}},computed:{...f(k,["currentLang"])},methods:{...A(S,["close","open"]),async getApplications(){this.loading=!0;try{const{data:t}=await this.$axiosApi.get(`applications/account/${this.account}`);t&&(this.applications=t)}catch(t){console.error(t)}this.loading=!1},formatDate(t){return new Date(t).toLocaleDateString("ru-RU")},goToApplication(t){this.close(),this.$router.push(`profile/applications/${t}`)}},beforeMount(){this.getApplications()}},l=t=>(B("data-v-3d740ff7"),t=t(),F(),t),b={class:"applications-list"},v=l(()=>o("h3",{class:"applications-main-title"},"История заявок",-1)),C={key:0},E={class:"applications-table"},I=l(()=>o("thead",null,[o("tr",null,[o("th",null,"Название заявки"),o("th",null,"Дата подачи"),o("th",null,"Статус заявки")])],-1)),w=["onClick"],x={key:1,class:"no-applications-message"},L=l(()=>o("p",null,"Заявок нет",-1)),M=[L],N={key:2};function T(t,h,V,$,n,c){const g=_,m=d;return e(),u("div",b,[v,!n.loading&&n.applications.length>0?(e(),u("div",C,[o("table",E,[I,o("tbody",null,[(e(!0),u(i,null,p(n.applications,s=>(e(),u("tr",{key:s.id},[o("td",null,[o("span",{class:"name-link",onClick:j=>c.goToApplication(s.id)},a(s.project.name),9,w)]),o("td",null,a(c.formatDate(s.created)),1),o("td",null,a(s.status[t.currentLang]),1)]))),128))])])])):!n.loading&&n.applications.length===0?(e(),u("div",x,M)):(e(),u("div",N,[(e(),u(i,null,p(5,s=>r(g,{key:s,class:"skeleton"})),64))])),r(m,{text:"Закрыть",bgColor:"#1852E0",onClick:t.close,withoutIcon:!0,class:"close-button"},null,8,["onClick"])])}const U=y(D,[["render",T],["__scopeId","data-v-3d740ff7"]]);export{U as default};
