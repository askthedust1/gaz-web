import{m,u as F,_ as x,o as u,c as e,d as l,b as t,w as D,f as C,F as p,g as h,h as _,s as A,z as P,t as n,p as b,e as S,y as j}from"./index-D7bkaMlJ.js";import{C as f}from"./CategoriesBar-BF9Z_HDk.js";const w={components:{CategoriesBar:f},data(){return{searchQuery:"",prices:[],loading:!1,expandedServices:[],activeProject:0}},computed:{...m(F,["currentLang"])},methods:{async fetchPrices(){this.loading=!0,await this.$axiosApi.get("/gazprom-app/content/prices").then(({data:s})=>{s&&(this.prices=s.filter(o=>{var v;return(v=o.project)==null?void 0:v.name}))}),this.loading=!1},getUniformPrice(s){if(!s.length)return null;const o=s[0].houseValue;return s.every(B=>B.houseValue===o)?o:null},toggleService(s){this.expandedServices.includes(s)?this.expandedServices=this.expandedServices.filter(o=>o!==s):this.expandedServices.push(s)},setActiveProject(s){this.activeProject=s}},beforeMount(){this.fetchPrices()}},g=s=>(b("data-v-76b7c666"),s=s(),S(),s),U={class:"container"},V={class:"tariff-header"},L={class:"project-tabs"},N=["onClick"],R=g(()=>t("div",{class:"note-grey"}," Стоимость услуг утверждена Приказом Nº218 от 18.09.2018г. Государственным агентством по регулированию топливно-энергетического комплекса. ",-1)),z={key:0,class:"service-cost-table"},I={key:0},T={class:"stage-name"},M={class:"service-name"},Q={key:0,class:"price-itm"},q=g(()=>t("div",{class:"price"},"Бесплатно",-1)),G=["onClick"],H={key:0},J={key:0,class:"plus"},K={key:1,class:"plus"},O={key:0,class:"price"},W={key:0,class:"note"},X={key:1},Y=g(()=>t("thead",{class:"table-head"},[t("tr",null,[t("th",null,"Филиал"),t("th",null,"Стоимость для частного дома"),t("th",null,"Стоимость для квартиры")])],-1)),Z={key:0,class:"note"},$={key:1,class:"skeleton"},u4={style:{display:"flex",gap:"10px","flex-wrap":"wrap"}};function e4(s,o,v,B,r,a){const y=f,k=A,E=j;return u(),e("div",U,[l(y),t("div",V,[l(k,{tag:"h2",size:"small"},{default:D(()=>[C("Стоимость услуг")]),_:1})]),t("div",L,[(u(!0),e(p,null,h(r.prices,(i,c)=>(u(),e("div",{key:c,class:P(["project-tab",{active:r.activeProject===c}]),onClick:d=>a.setActiveProject(c)},n(i.project.name),11,N))),128))]),R,!r.loading&&r.prices.length>0?(u(),e("div",z,[r.prices[r.activeProject]?(u(),e("div",I,[(u(!0),e(p,null,h(r.prices[r.activeProject].cases,i=>(u(),e("div",{key:i.id},[t("p",T,"Этап: "+n(i.name[s.currentLang]),1),(u(!0),e(p,null,h(i.caseData,c=>(u(),e("div",{key:c.id},[t("div",M,[c.service.id===28?(u(),e("div",Q,[t("div",null,n(c.service.name[s.currentLang]),1),q])):(u(),e("div",{key:1,class:"price-itm",onClick:d=>a.toggleService(c.id)},[t("div",null,[a.getUniformPrice(c.prices)===null?(u(),e("span",H,[r.expandedServices.includes(c.id)?(u(),e("span",J,"−")):(u(),e("span",K,"+"))])):_("",!0),C(" "+n(c.service.name[s.currentLang]),1)]),a.getUniformPrice(c.prices)!==null?(u(),e("span",O,n(a.getUniformPrice(c.prices))+" сом ",1)):_("",!0)],8,G))]),c.service.id===28?(u(),e("p",W," В случае выявления вмешательства в счетчик, стоимость установки и снятия БСГ составит "+n(a.getUniformPrice(c.prices))+" сом. ",1)):_("",!0),a.getUniformPrice(c.prices)===null&&r.expandedServices.includes(c.id)?(u(),e("div",X,[t("table",null,[Y,t("tbody",null,[(u(!0),e(p,null,h(c.prices,d=>(u(),e("tr",{key:d.branch.id},[t("td",null,n(d.branch.name),1),t("td",null,n(d.houseValue)+" сом",1),t("td",null,n(d.flatValue)+" сом",1)]))),128))])]),c.service.code===23?(u(),e("div",Z," Стоимость указана без учета расходных материалов. Смета на прокладку газопровода рассчитывается исходя из удаленности от точки подключения потребляющих приборов (плита или газовый котел). ")):_("",!0)])):_("",!0)]))),128))]))),128))])):_("",!0)])):(u(),e("div",$,[t("div",u4,[(u(),e(p,null,h(6,i=>l(E,{key:i,height:"30px",width:"15%",borderRadius:"16px"})),64))]),(u(),e(p,null,h(2,i=>t("div",{key:i},[l(E,{width:"50%",height:"30px",borderRadius:"16px"}),l(E,{width:"70%",height:"80px",borderRadius:"16px"}),l(E,{width:"70%",height:"80px",borderRadius:"16px"}),l(E,{width:"70%",height:"80px",borderRadius:"16px"})])),64))]))])}const c4=x(w,[["render",e4],["__scopeId","data-v-76b7c666"]]);export{c4 as default};
