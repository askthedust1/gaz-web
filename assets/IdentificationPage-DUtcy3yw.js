import{x as m,W as h,m as _,R as D,_ as g,Z as V,o as i,c as v,b as u,d as n,t as l,C as B,w as E,i as X,h as C,T as I,p as k,e as x,S as b}from"./index-D7bkaMlJ.js";import{_ as p}from"./BaseInput-BPhv0bAQ.js";const w={components:{BaseInput:p,BaseButton:m},directives:{maska:h},data(){return{loading:!1,formData:{name:"",surname:"",lastname:"",inn:""},errors:{name:"",surname:"",lastname:"",inn:""}}},computed:{..._(D,["token"])},methods:{async createClient(){if(this.validateForm()){try{this.loading=!0,(await this.$axiosApi.post("gazprom-app/client",this.formData,{headers:{"auth-token":this.token}})).data&&this.$router.push("/profile")}catch(s){console.error(s)}this.loading=!1}},validateForm(){let s=!0;return this.errors={name:"",surname:"",lastname:"",inn:""},this.formData.name||(this.errors.name="Это поле обязательно для заполнения",s=!1),this.formData.surname||(this.errors.surname="Это поле обязательно для заполнения",s=!1),this.formData.lastname||(this.errors.lastname="Это поле обязательно для заполнения",s=!1),this.formData.inn?this.formData.inn.length!==14&&(this.errors.inn="ИНН должен состоять из 14 цифр",s=!1):(this.errors.inn="Это поле обязательно для заполнения",s=!1),s},clearError(s){this.errors[s]=""}}},F=s=>(k("data-v-55e9613d"),s=s(),x(),s),S={class:"container"},y=F(()=>u("h3",null,"Введите паспортные данные",-1)),U={class:"error-msg"},N={class:"error-msg"},W={class:"error-msg"},z={class:"error-msg"};function A(s,e,L,M,r,t){const a=p,f=b,d=m,c=V("maska");return i(),v("div",S,[u("form",{class:"identification-form",onSubmit:e[8]||(e[8]=I((...o)=>t.createClient&&t.createClient(...o),["prevent"]))},[y,n(a,{modelValue:r.formData.name,"onUpdate:modelValue":e[0]||(e[0]=o=>r.formData.name=o),error:!!r.errors.name,placeholder:"Введите имя",label:"Фамилия",onInput:e[1]||(e[1]=o=>t.clearError("name"))},null,8,["modelValue","error"]),u("span",U,l(r.errors.name),1),n(a,{modelValue:r.formData.surname,"onUpdate:modelValue":e[2]||(e[2]=o=>r.formData.surname=o),error:!!r.errors.surname,placeholder:"Введите фамилию",label:"Имя",onInput:e[3]||(e[3]=o=>t.clearError("surname"))},null,8,["modelValue","error"]),u("span",N,l(r.errors.surname),1),n(a,{modelValue:r.formData.lastname,"onUpdate:modelValue":e[4]||(e[4]=o=>r.formData.lastname=o),error:!!r.errors.lastname,placeholder:"Введите отчество",label:"Отчество",onInput:e[5]||(e[5]=o=>t.clearError("lastname"))},null,8,["modelValue","error"]),u("span",W,l(r.errors.lastname),1),B(n(a,{modelValue:r.formData.inn,"onUpdate:modelValue":e[6]||(e[6]=o=>r.formData.inn=o),error:!!r.errors.inn,type:"number",placeholder:"XXXXXXXXXXXXXX",label:"ИНН",onInput:e[7]||(e[7]=o=>t.clearError("inn"))},null,8,["modelValue","error"]),[[c,"##############"]]),u("span",z,l(r.errors.inn),1),n(d,{text:r.loading?"":"Отправить",withoutIcon:!0,bgColor:"#1852E0",style:{"margin-top":"40px !important","align-self":"stretch"}},{btnContent:E(()=>[r.loading?(i(),X(f,{key:0,loaderWidth:"10px",color:"white"})):C("",!0)]),_:1},8,["text"])],32)])}const T=g(w,[["render",A],["__scopeId","data-v-55e9613d"]]);export{T as default};
